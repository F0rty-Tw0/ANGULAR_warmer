<div class="container">   
    <form (keydown.enter)="showDiv.current = true; showDiv.next = false;" class="form-inline d-flex justify-content-center md-form form-sm mt-5 animated fadeInDown">
        <input class="form-control ml-2 w-75 mb-3" 
        type="text" placeholder="Search" 
        [(ngModel)]="search" name="Search"
        (input)="search$.next(search)">          
    </form>
    <h3 class="text-center" *ngIf="!fetching && searchResults.length === 0 && search.length > 0">No Results found for {{search}}</h3>
</div>

<div *ngIf="showDiv.current" class="col-12 preview_container animated fadeIn" >
    <h2 *ngIf="searchResults.length > 0 " class="pl-sm-5 pt-4 mb-4" >Item List</h2>
    <item-preview *ngFor="let item of searchResults | paginate: {id:'listing_pagination', itemsPerPage: 5, currentPage: page, totalItems: totalRecords}; let i = index"        
    [item]="item"
    [index]="i">  </item-preview>  
    <button *ngIf="cartItems.length > 0" (click)="goToPage('Cart'); showDiv.current = false; showDiv.next = true" class="btn col-md-4 mb-2 mt-3 float-right animated fadeIn view-cart_item-button purple_button">View Cart</button>   
    <div class="mt-4"> 
        <pagination-controls class="my-pagination" *ngIf="searchResults.length > 0 " id="listing_pagination" maxSize="5"  previousLabel="" nextLabel="" (pageChange)="page = $event"></pagination-controls> 
    </div>     
</div>


<div *ngIf="showDiv.next" class="col-12 preview_container animated fadeIn">
        <div class="row" >   
            <div class="container">     
            <h2 class="pl-sm-5 pt-4 mb-4">Shopping Cart</h2>           
                <div class="col-12" >                    
                    <div class=" mx-md-5 row item-preview_row justify-content-center" >
                        <div *ngIf="cartItems.length > 0" class="col-12">                                                    
                            <div class="col-12font-weight-bold text-sm-left cart-preview_item text-truncate" *ngFor="let item of cartItems">
                                {{item.title}}  
                                    <span>                              
                                       <button type="button" class="btn float-right cart-preview_delete-button">DELETE</button>   
                                </span>                                                                          
                        </div>  
                    </div>
                </div> 
            </div> 
            <div class="pt-4 ml-md-4">            
                    <button (click)="goToPage('/'); showDiv.current = true; showDiv.next = false" class="btn col-md-4 mb-4 float-left animated fadeIn go-back_cart-button purple_button">Go Back</button>           
            </div>
        </div>     
    </div>    
</div>
